<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" type="text/css" href="css/rap.css">
    <script type="module">
        import {body, h1, captionTop} from "./js/html.js";
        import {dataTable, row, searchControls} from "./js/ui.js";
        import {uri, locationEncoded} from "./js/mvc.js";
        import {get} from "./js/io.js";

        let input = locationEncoded({from: 'book'})

        body(
            h1('Test app from files'),
            dataTable(get(uri('/query/{from}s', input)).triggerOn(input).output._embedded.bookList).enableColumnFiltering().add(
                captionTop().setClass('rap-search').textLeft().nowrap().add(searchControls(input.where)),
            ).column(
                row.title,
                row.author.firstName,
                row.author.lastName
            )
        )
    </script>
</head>
</html>